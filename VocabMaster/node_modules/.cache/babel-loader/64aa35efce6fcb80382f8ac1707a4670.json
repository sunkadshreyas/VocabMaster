{"ast":null,"code":"var _jsxFileName = \"/home/shreyas/Desktop/Web/ReactApps/VocabMaster/vocabmaster/src/components/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      token: \"\"\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        email,\n        password\n      } = this.state;\n      const options = {\n        headers: {\n          \"x-auth-token\": localStorage.getItem(\"token\")\n        }\n      };\n      axios.post('/auth', {\n        email,\n        password\n      }).then(res => {\n        console.log(res.token);\n        console.log(res.user.password);\n\n        if (res.token) {\n          localStorage.setItem(\"token\", JSON.stringify(res.token));\n        }\n\n        this.setState({\n          token: res.token\n        });\n        this.props.setToken(res.token);\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Login\", /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            placeholder: \"Enter email\",\n            value: this.state.email,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            placeholder: \"Enter password\",\n            value: this.state.password,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/shreyas/Desktop/Web/ReactApps/VocabMaster/vocabmaster/src/components/Login.js"],"names":["React","axios","Login","Component","state","email","password","token","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","options","headers","localStorage","getItem","post","then","res","console","log","user","setItem","JSON","stringify","props","setToken","catch","error","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,KAAN,SAAoBF,KAAK,CAACG,SAA1B,CAAmC;AAAA;AAAA;AAAA,SAC/BC,KAD+B,GACvB;AACJC,MAAAA,KAAK,EAAG,EADJ;AAEJC,MAAAA,QAAQ,EAAG,EAFP;AAGJC,MAAAA,KAAK,EAAG;AAHJ,KADuB;;AAAA,SAM/BC,YAN+B,GAMhBC,KAAK,IAAI;AACpB,WAAKC,QAAL,CAAc;AACV,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAsBH,KAAK,CAACE,MAAN,CAAaE;AADzB,OAAd;AAGH,KAV8B;;AAAA,SAW/BC,YAX+B,GAWhBL,KAAK,IAAI;AACpBA,MAAAA,KAAK,CAACM,cAAN;AACA,YAAM;AAACV,QAAAA,KAAD;AAAQC,QAAAA;AAAR,UAAoB,KAAKF,KAA/B;AACA,YAAMY,OAAO,GAAG;AACZC,QAAAA,OAAO,EAAG;AAAC,0BAAiBC,YAAY,CAACC,OAAb,CAAqB,OAArB;AAAlB;AADE,OAAhB;AAGAlB,MAAAA,KAAK,CAACmB,IAAN,CAAW,OAAX,EAAoB;AAACf,QAAAA,KAAD;AAAQC,QAAAA;AAAR,OAApB,EACCe,IADD,CACMC,GAAG,IAAI;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACf,KAAhB;AACAgB,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASnB,QAArB;;AACA,YAAGgB,GAAG,CAACf,KAAP,EAAa;AACTW,UAAAA,YAAY,CAACQ,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeN,GAAG,CAACf,KAAnB,CAA9B;AACH;;AACD,aAAKG,QAAL,CAAc;AACVH,UAAAA,KAAK,EAAGe,GAAG,CAACf;AADF,SAAd;AAGA,aAAKsB,KAAL,CAAWC,QAAX,CAAoBR,GAAG,CAACf,KAAxB;AACH,OAXD,EAYCwB,KAZD,CAYOC,KAAK,IAAI;AACZT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACH,OAdD;AAeH,KAhC8B;AAAA;;AAiC/BC,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,uCAEI;AAAM,QAAA,QAAQ,EAAE,KAAKnB,YAArB;AAAA,gCACI;AAAA,iCACI;AACI,YAAA,IAAI,EAAC,OADT;AAEI,YAAA,WAAW,EAAC,aAFhB;AAGI,YAAA,KAAK,EAAE,KAAKV,KAAL,CAAWC,KAHtB;AAII,YAAA,QAAQ,EAAE,KAAKG;AAJnB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eASI;AAAA,iCACI;AACI,YAAA,IAAI,EAAC,UADT;AAEI,YAAA,WAAW,EAAC,gBAFhB;AAGI,YAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWE,QAHtB;AAII,YAAA,QAAQ,EAAE,KAAKE;AAJnB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBATJ,eAiBI;AAAA,iCACI;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA0BH;;AA5D8B;;AA+DnC,eAAeN,KAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nclass Login extends React.Component{\n    state = {\n        email : \"\",\n        password : \"\",\n        token : \"\"\n    }\n    handleChange = event => {\n        this.setState({\n            [event.target.name] : event.target.value\n        });\n    }\n    handleSubmit = event => {\n        event.preventDefault();\n        const {email, password} = this.state;\n        const options = {\n            headers : {\"x-auth-token\" : localStorage.getItem(\"token\")}\n        }\n        axios.post('/auth', {email, password})\n        .then(res => {\n            console.log(res.token);\n            console.log(res.user.password)\n            if(res.token){\n                localStorage.setItem(\"token\", JSON.stringify(res.token))\n            }\n            this.setState({\n                token : res.token\n            })\n            this.props.setToken(res.token);\n        })\n        .catch(error => {\n            console.log(error)\n        })        \n    }\n    render(){\n        return (\n            <div>\n                Login\n                <form onSubmit={this.handleSubmit}>\n                    <div>\n                        <input\n                            name=\"email\" \n                            placeholder=\"Enter email\"\n                            value={this.state.email}\n                            onChange={this.handleChange}\n                        />\n                    </div>\n                    <div>\n                        <input \n                            name=\"password\"\n                            placeholder=\"Enter password\"\n                            value={this.state.password}\n                            onChange={this.handleChange}\n                        />\n                    </div>\n                    <div>\n                        <button type=\"submit\">Login</button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}